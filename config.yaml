# Configuration for the Quantum Portfolio Optimizer

portfolio:
  tickers: ["AAPL", "GOOG", "MSFT", "AMZN"]
  start_date: "2022-01-01"
  end_date: "2023-01-01"

# Algorithm settings
# Available algorithms: "vqe", "qaoa"
algorithm:
  name: "vqe"
  settings:
    ansatz: "real_amplitudes"
    reps: 2
    cvar_alpha: 1.0
    mixer_type: "x"
    num_assets: null

# Backend settings
# Available backends: "local_simulator", "ibm_quantum"
backend:
  name: "local_simulator"
  shots: 1024
  seed: 42

# Institutional Data Configuration (OpenBB Platform)
# To use Tiingo or FMP, set your API keys here or as environment variables
# (e.g. OPENBB_TIINGO_TOKEN)
data_source:
  provider: "yfinance" # Options: "tiingo", "yfinance", "fmp", "polygon"
  tiingo_token: ""     # Optional: Professional data token
  fmp_token: ""        # Optional: Financial Modeling Prep token

# IBM Quantum backend configuration (used when backend.name = "ibm_quantum")
# Requires: pip install .[ibm] and QE_TOKEN environment variable
ibm_quantum:
  # Device name - check available backends at quantum.ibm.com
  # Common options: ibm_brisbane (127q), ibm_kyoto (127q), ibm_osaka (127q)
  device: "ibm_brisbane"

  # Channel: "ibm_quantum_platform" (free tier) or "ibm_cloud" (premium)
  channel: "ibm_quantum_platform"

  # Instance configuration
  # For ibm_cloud: Use Cloud Resource Name (CRN)
  # instance: "crn:v1:bluemix:public:quantum-computing:..."

  # Session mode - keeps jobs prioritized for iterative algorithms like VQE
  use_session: true
  session_max_time: 28800  # 8 hours in seconds

  # Execution settings
  shots: 4096
  optimization_level: 3

  # Error mitigation settings (2026 Resilience V2)
  error_mitigation:
    resilience_level: 2
    dynamical_decoupling: true
    dd_sequence: "XpXm"
    twirling_enabled: true
    zne_enabled: true
    zne_noise_factors: [1, 3, 5]
    zne_extrapolator: "exponential"

# 2026 State-of-the-Art Serverless Profile
ibm_cloud_2026:
  name: "ibm_cloud"
  device: "ibm_fez" # 156-qubit Nighthawk
  channel: "ibm_cloud"
  use_ai_transpiler: true
  ai_transpilation_level: 2
  use_partitioning: true # Modular Hardware support
  use_serverless: true # IBM Quantum Serverless SDK integration

# Classical optimizer settings for VQE/QAOA
optimizer:
  name: "differential_evolution"
  maxiter: 100

# Risk model settings
# Available models: "markowitz", "cvar"
risk_model:
  name: "markowitz"
  parameters:
    risk_factor: 0.5 # Corresponds to 'q' in the Markowitz model
    risk_metric: "variance"
    cvar_confidence: 0.95
    esg_scores: []
    esg_weight: 0.0

error_mitigation:
  zne_gate_folding: false
  zne_noise_factors: [1, 3, 5]
  zne_extrapolator: "linear"
